{% extends "layout.html" %}
{% load static %}
{% load components %}
{% block content %}
    <div class="page-table-container" id="cash_flow-container">
        {% include "components/table.html" with id="cash_flow-table" fields=fields data=data %}
        <div id="context-menu" class="dropdown-menu">
            <a class="dropdown-item context-action"
               id="add-button"
               data-action="add">Добавить</a>
            <a class="dropdown-item context-action"
               id="edit-button"
               data-action="edit">Редактировать</a>
            <a class="dropdown-item context-action"
               id="delete-button"
               data-action="delete">Удалить</a>
        </div>
        <div class="stats-container">
            {% include "components/select.html" with id="supplier_stats" placeholder="Выберите поставщика" %}
            <canvas id="statsChart">таблица</canvas>
        </div>
        <div class="pagination-controls">
            <button class="pagination-button"
                    id="first-page"
                    title="Первая страница"
                    disabled>
                <img src="{% static 'images/angle-double-left.svg' %}"
                     alt="angle-double-left"
                     class="icon"
                     height="12"
                     width="12">
            </button>
            <button class="pagination-button"
                    id="prev-page"
                    title="Предыдущая страница"
                    disabled>
                <img src="{% static 'images/angle-left.svg' %}"
                     alt="angle-double-left"
                     class="icon"
                     height="12"
                     width="12">
            </button>
            <div class="pagination-line"></div>
            <div class="pagination-input-container">
                <span>Страница</span>
                <input type="text"
                       id="current-page"
                       class="pagination-input"
                       value="0"
                       disabled>
                <span>из</span>
                <span id="total-pages">0</span>
            </div>
            <div class="pagination-line"></div>
            <button class="pagination-button"
                    id="next-page"
                    title="Следующая страница"
                    disabled>
                <img src="{% static 'images/angle-right.svg' %}"
                     alt="angle-double-left"
                     class="icon"
                     height="12"
                     width="12">
            </button>
            <button class="pagination-button"
                    id="last-page"
                    title="Последняя страница"
                    disabled>
                <img src="{% static 'images/angle-double-right.svg' %}"
                     alt="angle-double-left"
                     class="icon"
                     height="12"
                     width="12">
            </button>
        </div>
    </div>
{% endblock content %}
{% block extra_scripts %}
    {{ block.super }}
    <script src="{% static 'main/js/main.js' %}" type="module"></script>
    <script src="{% static 'main/js/autonumeric.js' %}"></script>
    <script src="{% static 'main/js/chart.js' %}" type="module" defer></script>
    <script src="{% static 'main/js/chartjs-plugin-datalabels.js' %}" type="module" defer></script>
    {{ data_ids|json_script:"data-ids" }}
    {{ current_page|json_script:"current-page-data" }}
    {{ total_pages|json_script:"total-pages-data" }}
{% endblock extra_scripts %}
